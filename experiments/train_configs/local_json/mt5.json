{
  "dataset_reader": {
    "type": "seq2seq_length_filtering",
    "source_max_tokens": 20,
    "target_max_tokens": 20,
    "source_add_start_token": false,
    "source_add_end_token": false,
    "source_tokenizer": {
          "type": "pretrained_transformer",
          "model_name": "google/mt5-base"
        },
    "source_token_indexers": {
      "tokens": {
        "type": "pretrained_transformer",
        "model_name": "google/mt5-base",
        "max_length": 1024
      }
    }
  },
  "train_data_path": "experiments/processed_datasets/mtop/non_pointer_format/standard/english_eval_decoupled_format.tsv",
  "validation_data_path": "experiments/processed_datasets/mtop/non_pointer_format/standard/english_eval_decoupled_format.tsv",
  "model": {
    "type": "mt5",
    "model_name": "google/mt5-base",
    "beam_size": 4,
    "max_steps": 100,
    "token_based_metric": ["em_accuracy"]
  },
  "data_loader": {
    "batch_sampler": {
      "type": "bucket",
      "padding_noise": 0.0,
      "batch_size":16
    }
  },
  "trainer": {
    "num_epochs": 50,
    "patience": 10,
    "grad_norm": 5.0,
    "validation_metric": "+em_accuracy",
    "optimizer": {
      "type": "huggingface_adamw",
      "lr": 1e-5,
      "weight_decay": 0.01
    },
    "checkpointer": {
      "keep_most_recent_by_count": 1
    }
  }
}
